import pygame

class Przyciski():
    def __init__(self, x, y, obrazek, skala):
        szerokosc = obrazek.get_width()
        wysokosc = obrazek.get_height()
        self.image = pygame.transform.scale(obrazek, (int(szerokosc * skala), int(wysokosc * skala)))
        self.prostokat = self.image.get_rect()
        self.prostokat.topleft = (x, y)
        self.klikniete = False
    
    def narysuj(self, powierzchnia):
        action = False
        pozycja_myszki = pygame.mouse.get_pos()
        if self.prostokat.collidepoint(pozycja_myszki):
            if pygame.mouse.get_pressed()[0] == 1 and not self.klikniete:
                self.klikniete = True
                action = True
        if pygame.mouse.get_pressed()[0] == 0:
            self.klikniete = False
        powierzchnia.blit(self.image, self.prostokat.topleft)
        return action

pygame.init()

wyswietlacz = pygame.display.set_mode((800, 600))
pygame.display.set_caption("Menu")

zastopowac_gre = False
ktore_menu = "glowne menu"

czcionka = pygame.font.SysFont("arialblack", 40)
kolor_tekstu = (255, 255, 255)

resume_obrazek = pygame.image.load("resume.png").convert_alpha()
options_obrazek = pygame.image.load("options.png").convert_alpha()
quit_obrazek = pygame.image.load("quit.png").convert_alpha()
quit_2_obrazek = pygame.image.load("quit_2.png").convert_alpha()
restart_obrazek = pygame.image.load("restart.png").convert_alpha()
levels_obrazek = pygame.image.load("levels.png").convert_alpha()
easy_obrazek = pygame.image.load("easy.png").convert_alpha()
normal_obrazek = pygame.image.load("normal.png").convert_alpha()
hard_obrazek = pygame.image.load("hard.png").convert_alpha()

quit_przycisk = Przyciski(550, 500, quit_obrazek, 0.5)

def wyswietlanie_tekstu(tekst, czcionka, kolor_tekstu, x, y):
    napis = czcionka.render(tekst, True, kolor_tekstu)
    wyswietlacz.blit(napis, (x, y))

running = True
while running:
    wyswietlacz.fill((52, 78, 91))

    if zastopowac_gre:
        if ktore_menu == "glowne menu":
            resume_przycisk = Przyciski(270, 70, resume_obrazek, 1)
            options_przycisk = Przyciski(270, 230, options_obrazek, 1)
            if resume_przycisk.narysuj(wyswietlacz):
                zastopowac_gre = False
            elif options_przycisk.narysuj(wyswietlacz):
                ktore_menu = "drugie menu"
            elif quit_przycisk.narysuj(wyswietlacz):
                running = False
            else:
                pass
        elif ktore_menu == "drugie menu":
            levels_przycisk = Przyciski(270, 370, levels_obrazek, 1)
            restart_przycisk = Przyciski(270, 70, restart_obrazek, 1)
            if restart_przycisk.narysuj(wyswietlacz):
                zastopowac_gre = False
            elif levels_przycisk.narysuj(wyswietlacz):
                ktore_menu = "trzecie menu"
            elif quit_przycisk.narysuj(wyswietlacz):
                ktore_menu = "glowne menu"
            else:
                pass
        elif ktore_menu == "trzecie menu":
            easy_przycisk = Przyciski(270, 70, easy_obrazek, 1)
            normal_przycisk = Przyciski(270, 230, normal_obrazek, 1)
            hard_przycisk = Przyciski(270, 390, hard_obrazek, 1)
            if easy_przycisk.narysuj(wyswietlacz):
                pass
            elif normal_przycisk.narysuj(wyswietlacz):
                pass
            elif hard_przycisk.narysuj(wyswietlacz):
                pass
            elif quit_przycisk.narysuj(wyswietlacz):
                ktore_menu = "drugie menu"
            else:
                pass
    else:
        wyswietlanie_tekstu("Naciśnij spację aby wyjść z gry", czcionka, kolor_tekstu, 60, 250)


    for event in pygame.event.get():
        if event.type == pygame.KEYDOWN:
            if event.key == pygame.K_SPACE:
                zastopowac_gre = True
        if event.type == pygame.QUIT:
            running = False
    
    pygame.display.update()

pygame.quit()
